<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nebula Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="particles-container" id="particles-container"></div>
    <div class="header-content">
      <div class="header-left">
        <button id="mobile-menu-btn" class="mobile-menu-btn">‚ò∞</button>
        <h1>Welcome back, <span id="user-name">Guest</span>! ‚ú®</h1>
        <p id="datetime"></p>
      </div>
      <div class="header-right">
        <div class="global-search-container">
          <input type="text" id="global-search" placeholder="‚åï Search everything..." />
        </div>
        <div class="header-actions">
          <button id="login-btn" class="btn btn-primary">Login</button>
          <button id="register-btn" class="btn btn-primary">Register</button>
          <span id="user-badge" class="user-badge hidden"></span>
          <button id="logout-btn" class="btn btn-danger hidden">Logout</button>
          <button id="account-btn" class="btn btn-primary hidden">‚öô Account</button>
          <button id="reset-btn" class="btn btn-danger">‚å´</button>
          <button id="theme-toggle" class="theme-toggle">‚òÄ</button>
        </div>
      </div>
    </div>
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu">
      <div class="mobile-menu-header">
        <h3>Menu</h3>
        <button id="mobile-menu-close" class="mobile-menu-close">‚úï</button>
      </div>
      <div class="mobile-menu-content">
        <div class="mobile-menu-search">
          <input type="text" id="mobile-search" placeholder="‚åï Search everything..." />
        </div>
        <div class="mobile-menu-actions">
          <button id="mobile-login-btn" class="btn btn-primary">Login</button>
          <button id="mobile-register-btn" class="btn btn-primary">Register</button>
          <span id="mobile-user-badge" class="user-badge hidden"></span>
          <button id="mobile-logout-btn" class="btn btn-danger hidden">Logout</button>
          <button id="mobile-account-btn" class="btn btn-primary hidden">‚öô Account</button>
          <button id="mobile-reset-btn" class="btn btn-danger">‚å´ Reset</button>
          <button id="mobile-theme-toggle" class="btn btn-primary">‚òÄ Theme</button>
        </div>
      </div>
    </div>
  </header>

  <!-- NAV -->
  <nav>
    <div class="nav-content">
      <button class="nav-btn active" data-section="dashboard">‚óâ Dashboard</button>
      <button class="nav-btn" data-section="tasks">‚úì Tasks</button>
      <button class="nav-btn" data-section="calendar">‚óê Calendar</button>
      <button class="nav-btn" data-section="notes">‚óà Notes</button>
      <button class="nav-btn" data-section="progress">‚ó¨ Progress</button>
      <button class="nav-btn" data-section="calculator">‚óâ Calculator</button>
    </div>
  </nav>

  <!-- MAIN -->
  <main>
    <!-- DASHBOARD -->
    <section id="dashboard" class="active-section">
      <div class="dashboard-header">
        <h2>Overview</h2>
        <button class="btn btn-widget-settings" id="widget-settings-btn">‚öô Customize Widgets</button>
      </div>
      
      <div class="widgets-container" id="widgets-container">
        <div class="widget" data-widget-id="stat-total-tasks" data-widget-type="stat" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Total Tasks</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <p id="task-count">0</p>
          </div>
        </div>

        <div class="widget" data-widget-id="stat-completed" data-widget-type="stat" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Completed</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <p id="completed-count">0</p>
          </div>
        </div>

        <div class="widget" data-widget-id="stat-notes" data-widget-type="stat" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Total Notes</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <p id="note-count">0</p>
          </div>
        </div>

        <div class="widget" data-widget-id="stat-avg-time" data-widget-type="stat" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Avg Completion Time</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <p id="avg-completion-time">0 days</p>
          </div>
        </div>

        <div class="widget" data-widget-id="stat-streak" data-widget-type="stat" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Productivity Streak</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <p id="productivity-streak">0 days</p>
          </div>
        </div>

        <div class="widget" data-widget-id="stat-today" data-widget-type="stat" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Tasks Today</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <p id="tasks-today">0</p>
          </div>
        </div>

        <div class="widget" data-widget-id="chart-completion" data-widget-type="chart" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Task Completion</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <div class="progress-ring">
              <svg viewBox="0 0 200 200" width="200" height="200">
                <defs>
                  <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" stop-color="#6366f1" />
                    <stop offset="50%" stop-color="#8b5cf6" />
                    <stop offset="100%" stop-color="#ec4899" />
                  </linearGradient>
                </defs>
                <circle class="bg" cx="100" cy="100" r="90"></circle>
                <circle class="progress" cx="100" cy="100" r="90"></circle>
              </svg>
              <span class="progress-text" id="progress-text">0%</span>
            </div>
          </div>
        </div>

        <div class="widget" data-widget-id="chart-distribution" data-widget-type="chart" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Task Distribution</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <canvas id="dashboardChart"></canvas>
          </div>
        </div>

        <div class="widget" data-widget-id="chart-priority" data-widget-type="chart" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Priority Distribution</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <canvas id="priorityChart"></canvas>
          </div>
        </div>

        <div class="widget" data-widget-id="chart-productivity" data-widget-type="chart" data-widget-size="wide" draggable="true">
          <div class="widget-header">
            <h3>Productivity Timeline (Last 7 Days)</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <canvas id="productivityChart"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- TASKS -->
    <section id="tasks">
      <h2>Tasks</h2>

      <div class="form-section">
        <form class="task-form" id="task-form">
          <div class="input-group">
            <input type="text" id="task-input" placeholder="Add a new task..." required />
          </div>
          <select id="task-priority">
            <option value="low">üü¢ Low</option>
            <option value="medium" selected>üü° Medium</option>
            <option value="high">üî¥ High</option>
          </select>
          <input type="text" id="task-category" placeholder="Category (optional)" list="category-list" />
          <datalist id="category-list"></datalist>
          <input type="text" id="task-project" placeholder="Project (optional)" list="project-list" />
          <datalist id="project-list"></datalist>
          <input type="date" id="task-due-date" />
          <button type="submit" class="btn btn-success">Add Task</button>
        </form>
      </div>

      <div class="search-box">
        <input type="text" id="task-search" placeholder="Search tasks..." />
      </div>

      <div class="filter-section">
        <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="low">‚óâ Low</button>
            <button class="filter-btn" data-filter="medium">‚óê Medium</button>
            <button class="filter-btn" data-filter="high">‚ó¨ High</button>
      </div>

      <div class="filter-section">
        <button class="filter-btn date-filter active" data-date-filter="all">All Time</button>
        <button class="filter-btn date-filter" data-date-filter="today">Today</button>
        <button class="filter-btn date-filter" data-date-filter="week">This Week</button>
        <button class="filter-btn date-filter" data-date-filter="month">This Month</button>
        <button class="filter-btn date-filter" data-date-filter="overdue">Overdue</button>
      </div>

      <div class="filter-section">
        <select id="category-filter" class="filter-select">
          <option value="all">All Categories</option>
        </select>
        <select id="project-filter" class="filter-select">
          <option value="all">All Projects</option>
        </select>
      </div>

      <ul class="task-list" id="task-list"></ul>
    </section>

    <!-- CALENDAR -->
    <section id="calendar">
      <h2>Calendar</h2>

      <div class="calendar-controls">
        <button class="btn btn-primary" id="prev-month">‚Üê Previous</button>
        <h3 id="calendar-month-year"></h3>
        <button class="btn btn-primary" id="next-month">Next ‚Üí</button>
      </div>

      <div class="calendar-container">
        <div class="calendar-grid" id="calendar-grid"></div>
      </div>

      <div class="calendar-legend">
        <div class="legend-item">
          <span class="legend-color overdue"></span>
          <span>Overdue</span>
        </div>
        <div class="legend-item">
          <span class="legend-color today"></span>
          <span>Today</span>
        </div>
        <div class="legend-item">
          <span class="legend-color has-tasks"></span>
          <span>Has Tasks</span>
        </div>
      </div>
    </section>

    <!-- NOTES -->
    <section id="notes">
      <h2>Notes</h2>

      <div class="form-section">
        <form class="note-form" id="note-form">
          <input type="text" id="note-title" placeholder="Note title..." required />
          <textarea id="note-content" placeholder="Write your note..." required></textarea>
          <input type="text" id="note-category" placeholder="Category (optional)" list="note-category-list" />
          <datalist id="note-category-list"></datalist>
          <button type="submit" class="btn btn-success">Save Note</button>
        </form>
      </div>

      <div class="search-box">
        <input type="text" id="note-search" placeholder="Search notes..." />
      </div>

      <div class="notes-grid" id="note-list"></div>
    </section>

    <!-- PROGRESS -->
    <section id="progress">
      <h2>Progress & Achievements</h2>

      <div class="progress-header">
        <div class="progress-stats-grid">
          <div class="progress-stat-card">
            <div class="progress-stat-icon">‚óê</div>
            <div class="progress-stat-content">
              <h3>This Week</h3>
              <p class="progress-stat-value" id="progress-week">0</p>
              <span class="progress-stat-label">tasks completed</span>
            </div>
          </div>
          <div class="progress-stat-card">
            <div class="progress-stat-icon">‚óâ</div>
            <div class="progress-stat-content">
              <h3>This Month</h3>
              <p class="progress-stat-value" id="progress-month">0</p>
              <span class="progress-stat-label">tasks completed</span>
            </div>
          </div>
          <div class="progress-stat-card">
            <div class="progress-stat-icon">‚ó¨</div>
            <div class="progress-stat-content">
              <h3>Completion Rate</h3>
              <p class="progress-stat-value" id="progress-rate">0%</p>
              <span class="progress-stat-label">overall</span>
            </div>
          </div>
          <div class="progress-stat-card">
            <div class="progress-stat-icon">‚óà</div>
            <div class="progress-stat-content">
              <h3>Best Streak</h3>
              <p class="progress-stat-value" id="progress-best-streak">0</p>
              <span class="progress-stat-label">days</span>
            </div>
          </div>
        </div>
      </div>

      <div class="progress-charts-section">
        <div class="widget" data-widget-id="chart-progress-timeline" data-widget-type="chart" data-widget-size="wide" draggable="true">
          <div class="widget-header">
            <h3>Progress Timeline (Last 30 Days)</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <canvas id="progressTimelineChart"></canvas>
          </div>
        </div>

        <div class="widget" data-widget-id="chart-weekly-comparison" data-widget-type="chart" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Weekly Comparison</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <canvas id="weeklyComparisonChart"></canvas>
          </div>
        </div>

        <div class="widget" data-widget-id="chart-category-progress" data-widget-type="chart" data-widget-size="normal" draggable="true">
          <div class="widget-header">
            <h3>Progress by Category</h3>
            <div class="widget-controls">
              <button class="widget-btn size-btn" title="Change size">‚ó¨</button>
              <button class="widget-btn hide-btn" title="Hide widget">‚óâ</button>
            </div>
          </div>
          <div class="widget-content">
            <canvas id="categoryProgressChart"></canvas>
          </div>
        </div>
      </div>

      <div class="achievements-section">
        <h3 class="section-subtitle">üèÜ Achievements</h3>
        <div class="achievements-grid" id="achievements-grid"></div>
      </div>

      <div class="recent-activity-section">
          <h3 class="section-subtitle">‚óà Recent Activity</h3>
        <div class="activity-list" id="activity-list"></div>
      </div>
    </section>

    <!-- CALCULATOR -->
    <section id="calculator">
      <h2>Calculator</h2>

      <div class="calculator-container">
        <div class="calculator-main">
          <div class="calculator-display">
            <div class="calculator-history" id="calc-history"></div>
            <div class="calculator-screen" id="calc-screen">0</div>
          </div>
          
          <div class="calculator-buttons">
            <button class="calc-btn calc-btn-function" data-action="clear">C</button>
            <button class="calc-btn calc-btn-function" data-action="clear-entry">CE</button>
            <button class="calc-btn calc-btn-function" data-action="backspace">‚å´</button>
            <button class="calc-btn calc-btn-operator" data-action="divide">√∑</button>
            
            <button class="calc-btn calc-btn-number" data-value="7">7</button>
            <button class="calc-btn calc-btn-number" data-value="8">8</button>
            <button class="calc-btn calc-btn-number" data-value="9">9</button>
            <button class="calc-btn calc-btn-operator" data-action="multiply">√ó</button>
            
            <button class="calc-btn calc-btn-number" data-value="4">4</button>
            <button class="calc-btn calc-btn-number" data-value="5">5</button>
            <button class="calc-btn calc-btn-number" data-value="6">6</button>
            <button class="calc-btn calc-btn-operator" data-action="subtract">‚àí</button>
            
            <button class="calc-btn calc-btn-number" data-value="1">1</button>
            <button class="calc-btn calc-btn-number" data-value="2">2</button>
            <button class="calc-btn calc-btn-number" data-value="3">3</button>
            <button class="calc-btn calc-btn-operator" data-action="add">+</button>
            
            <button class="calc-btn calc-btn-function" data-action="negate">¬±</button>
            <button class="calc-btn calc-btn-number" data-value="0">0</button>
            <button class="calc-btn calc-btn-number" data-value=".">.</button>
            <button class="calc-btn calc-btn-equals" data-action="equals">=</button>
          </div>
          
          <div class="calculator-advanced">
            <button class="calc-btn calc-btn-advanced" data-action="sqrt">‚àö</button>
            <button class="calc-btn calc-btn-advanced" data-action="square">x¬≤</button>
            <button class="calc-btn calc-btn-advanced" data-action="percent">%</button>
            <button class="calc-btn calc-btn-advanced" data-action="inverse">1/x</button>
          </div>
        </div>

        <div class="calculator-history-panel">
          <h3 class="section-subtitle">‚óê Calculation History</h3>
          <div class="calc-history-list" id="calc-history-list">
            <p style="text-align:center;padding:2rem;color:var(--text-light);">No calculations yet</p>
          </div>
          <button class="btn btn-danger" id="clear-history-btn" style="width:100%;margin-top:1rem;">Clear History</button>
        </div>
      </div>
    </section>
  </main>

  <!-- MODALS -->
  <div id="modal-container"></div>

  <!-- TOAST CONTAINER -->
  <div class="toast-container" id="toast-container"></div>

  <script src="script.js"></script>
</body>
</html>
